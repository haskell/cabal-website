<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <link href="nominolo.css" type="text/css" rel="stylesheet">
    <link href="./images/Cabal-tiny.png" rel="icon">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    <title>The Haskell Cabal | Overview</title>
  </head>

  <body>
    <h1 class="mainheader">The Haskell Cabal <span class="subheading">| Overview</span></h1>
    <span style="font-style: italic">Cabal: Common Architecture for Building Applications and Libraries</span>

    <h2>Introduction</h2>

    <p>Cabal is a system for building and packaging Haskell libraries and programs.
      It defines a common interface for package authors and distributors to
      easily build their applications in a portable way. Cabal is part of a larger
      infrastructure for distributing, organizing, and cataloging Haskell libraries
      and programs.
    </p>

    <p>The term <span style="font-style: italic">cabal</span> can refer to
      either: <span style="font-style: italic">cabal-the-spec</span> (.cabal
      files), <span style="font-style: italic">cabal-the-library</span> (code
      that understands .cabal files), or <span style="font-style:
						      italic">cabal-the-tool</span>
      (the <span class="inline-code">cabal-install</span> package which provides
      the <span class="inline-code">cabal</span> executable); usually folks are
      referring to cabal-the-tool when they say cabal.
    </p>

    <h2><a href="#install-upgrade">Install/Upgrade <span class="inline-code">cabal</span></a></h2>

    <p>
      To install the <span class="inline-code">cabal</span> executable you can
      use <a href="https://github.com/haskell/ghcup">ghcup</a> (if you're using
      Linux), the <a href="https://www.haskell.org/platform/">Haskell
      Platform</a>, install the <span class="inline-code">cabal-install</span>
      package from your distributions package manager (if using Linux or Mac),
      or download the source or prebuilt binary from
      the <a href="download.html">Download</a> page.

    <p>
      If you already have the <span class="inline-code">cabal</span> executable you can upgrade it by running:
      <code>
	<span class="code-unselectable"data-text="$ "></span>cabal install Cabal cabal-install
      </code><br>
    </p>

    <p>
      If the above command failed for any reason see the <a href="#troubleshooting">Update Troubleshooting</a> section below.
    </p>

    <p>
      Sometimes the older installed version is still on the program search
      <span class="inline-code">$PATH</span>, you can check you're running the
      latest version with the command below. If it doesn't match the output of
      the <span class="inline-code">cabal-install</span> command above you'll
      need to update it.<br>

      <code>
	<span class="code-unselectable" data-text="$ ">cabal --version</span>
      </code>
    </p>

    <h2>Quick Start Guide</h2>

    <p>Start by installing the <span class="inline-code">cabal</span> executable (see <a href="#install-upgrade">the previous section</a>) and the Haskell compiler <span class="inline-code">ghc</span> (see <a href="https://www.haskell.org/ghc/download_ghc_8_4_4.html">the GHC download docs</a>).</p>

    <h3>Starting a new project</h3>
    <p>
      <code>
	<span class="code-unselectable"data-text="$ "></span>mkdir myproject && cd myproject<br/>
	<span class="code-unselectable"data-text="$ "></span>cabal init<br/>
	<span class="code-unselectable"data-text="$ "></span>cabal run<br/>
      </code>
    </p>

    <p>
      <ul>
	<li>The <span class="inline-code">cabal init</span> command will create all the needed files for an executable.</li>
	<li>The <span class="inline-code">cabal run</span> will build and run the executable in the project.</li>
      </ul>
    </p>

    <h2>Documentation</h2>
    <ul>
      <li><a href="http://haskell.org/haskellwiki/Cabal/How_to_install_a_Cabal_package">How to install a Cabal package</a></li>
      <li><a href="https://cabal.readthedocs.io">Cabal User Guide</a></li>
      <li><a href="FAQ.html">FAQ and Troubleshooting</a> - commonly encountered issues and how to resolve them</li>
      <li><a href="release/cabal-latest/doc/API/Cabal/">Cabal-the-library API documentation</a></li>
    </ul>


    <h2>Related Pages</h2>

    <ul>
      <li><a href="http://hackage.haskell.org/">Hackage</a>: the Haskell Package Database
      <li><a href="http://haskell.org/haskellwiki/Upgrading_packages">Updating packages to work with recent Cabal and GHC versions</a>
      <li><a href="https://github.com/haskell/cabal/issues?utf8=%E2%9C%93&q=is%3Aopen">Browse open issues or report a new bug</a>
      <li><a href="code.html">Source code</a> for development versions.
      <li>Questions can be <a href="mailto:libraries@haskell.org">sent</a> to the <a href="http://www.haskell.org/mailman/listinfo/libraries">Haskell libraries mailing list</a>
      <li>Development discussion takes place on the <a href="http://www.haskell.org/mailman/listinfo/cabal-devel">cabal-devel</a> mailing list</li>
      <li><a href="old.html">Old stuff</a></li>
      <li><a href="http://www.haskell.org/haskellwiki/Applications_and_libraries">Applications and Libraries</a> for Haskell</li>
    </ul>

    <h2><a href="#troubleshooting">Update Troubleshooting</a></h2>

    <p>
      Before you try anything else, if you already have a new-ish version of cabal
      you can use the v2/new commands. Try the following:

      <code>
	<span class="code-unselectable"data-text="$ "></span>cabal new-install Cabal cabal-install
      </code><br/>

      If this works update the <span class="inline-code">cabal</span> command on
      your path with the version installed.
    </p>

    <p>
      <b> ERROR: cabal: The following packages are likely to be broken by the reinstalls: ... </b><br/>
      <b>Use --force-reinstalls if you want to install anyway.</b><br/>
    </p>

    <p>
      This only happens with very old versions of cabal-install.  Make
      sure you are using a modern version of cabal-install, preferably
      at least version 3.0.
    </p>

  </body>
</html>
